<h1>
    Search MusicBrainz
    <i id="loading" data-bind="visible: isLoading" class="fa fa-spinner fa-pulse fa-fw"></i>
</h1>

<div class="alert alert-danger" data-bind="visible: error() ? true: false, text: error" role="alert">Test Test</div>

<div class="row">
  <div class="col-md-12">
      <div class="input-group">
        <input type="text" id="search-text" placeholder="search artist" class="form-control" data-bind="value: searchParam" >
        <span class="input-group-btn">
            <button id="search" class="btn btn-default" type="button" data-bind="click: search">
                <i class="fa fa-search"></i>
            </button>
        </span>
      </div>
  </div>
  <div class="col-md-12" style="padding-top: 30px" data-bind="visible: musicBrainz.artists().length > 0" >
    <h2>Search Results:</h2>
    <hr>
      <table class="table table-striped">
        <thead>
            <tr>
                <th>Artist Name</th>
                <th></th>
            </tr>
        </thead>
        <tbody data-bind="foreach: musicBrainz.artists">
           <tr>
               <td class="artist-name" data-bind="text: name"></td>
               <td>
                   <button class="btn btn-link" data-bind="click: getReleases" type="button"> <span data-bind="text: isOpen() ? 'Hide Releases' : 'Show Releases'"></span> </button>
               </td>
               <td>
               </td>
           </tr>
           <tr data-bind="visible: isOpen ">
                <td colspan="2">
                   <table class="table table-striped">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Year</th>
                                <th>Title</th>
                                <th>Release label</th>
                                <th>Number of tracks</th>
                            </tr>
                        </thead>
                        <tbody data-bind="foreach: releases">
                           <tr>
                               <td> <i class="fa fa-star" data-bind="style: { color: isFavourite() ? 'blue' : 'black' }, click: favourite" ></i> </td>
                               <td data-bind="text: year" ></td>
                               <td data-bind="text: title" ></td>
                               <td data-bind="text: label"></td>
                               <td data-bind="text: trackCount"></td>
                           </tr>
                        </tbody>
                   </table>
                </td>
           </tr>    
        </tbody>
      </table>
  </div>
</div>